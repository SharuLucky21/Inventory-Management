<!-- templates/suppliers.html -->
{% extends 'layout.html' %}
{% block content %}
<div class="d-flex justify-content-between mb-3">
  <h4>Suppliers</h4>
  {% if session.user.role == 'admin' %}
  <a class="btn btn-success" href="{{ url_for('supplier_new') }}">Add Supplier</a>
  {% endif %}
</div>
<table class="table">
  <thead><tr><th>Name</th><th>Contact</th><th>Email</th><th>Actions</th></tr></thead>
  <tbody>
    {% for s in suppliers %}
    <tr>
      <td>{{ s.name }}</td>
      <td>{{ s.contact }}</td>
      <td>{{ s.email }}</td>
      <td>
        {% if session.user.role == 'admin' %}
        <a class="btn btn-sm btn-primary" href="{{ url_for('supplier_edit', sid=s.id) }}">Edit</a>
        <form method="post" action="{{ url_for('supplier_delete', sid=s.id) }}" style="display:inline">
          <button class="btn btn-sm btn-danger" onclick="return confirm('Delete supplier?')">Delete</button>
        </form>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
